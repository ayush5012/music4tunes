{"version":3,"sources":["webpack:///./src/views/Home.vue","webpack:///./src/components/songitem.vue","webpack:///./src/components/songitem.vue?00aa","webpack:///./src/views/Home.vue?ab8c"],"names":["class","id","songs","song","key","DocID","to","modified_name","display_name","custom","navigate","comment_count","name","props","render","data","maxperpage","pendingreq","components","appsongitem","created","getsongs","window","addEventListener","handlescroll","beforeUnmount","removeEventListener","this","methods","document","documentElement","scrollTop","offsetHeight","innerHeight","bottomofWindow","Math","round","length","doc","get","lastdoc","orderBy","startAfter","limit","snapshots","forEach","push"],"mappings":"i0BAsBaA,MAAM,qB,GACRA,MAAM,kE,GACJA,MAAM,qD,EAET,eAAqC,QAA/BA,MAAM,cAAa,SAAK,G,GAI5BC,GAAG,Y,6GA7Bb,eAmCO,aAjCL,EAmBA,eAaU,UAbV,EAaU,CAZR,eAWM,MAXN,EAWM,C,eAVJ,eAIM,MAJN,EAIM,CAFJ,G,SADM,oBAKR,eAEK,KAFL,EAEK,E,mBADH,eAAoE,2BAAxC,EAAAC,OAAK,SAAbC,G,wBAApB,eAAoE,GAAhCC,IAAKD,EAAKE,MAAQF,KAAMA,G,mGC9B9DH,MAAM,oH,GAOEA,MAAM,yB,GAITA,MAAM,yB,EAKL,eAA4C,KAAzCA,MAAM,gCAA8B,S,oFAhBjD,eAqBK,KArBL,EAqBK,CAnBD,eAOM,YANJ,eAGc,GAHAM,GAAE,wBAA+B,EAAAH,KAAKE,QACnDL,MAAM,iC,yBACH,iBAAwB,C,8BAArB,EAAAG,KAAKI,eAAa,O,eAEzB,eACkC,OADlC,EACkC,eAA3B,EAAAJ,KAAKK,cAAY,KAG1B,eASM,MATN,EASM,CARJ,eAOc,GAPDC,OAAA,GACZH,GAAE,wBAA+B,EAAAH,KAAKE,OAAK,mB,yBAE1C,gBADQK,EACR,EADQA,SACR,MADgB,CAChB,eAGO,QAHDV,MAAM,WAAY,QAAOU,G,CAC7B,E,eAA4C,IAC5C,eAAG,EAAAP,KAAKQ,eAAa,I,sCAQpB,OACbC,KAAM,WACNC,MAAO,CAAC,SCzBV,EAAOC,OAAS,EAED,QFsCA,GACbF,KAAM,OACNG,KAFa,WAGX,MAAO,CACLb,MAAO,GACPc,WAAY,EACZC,YAAY,IAGhBC,WAAY,CACVC,YAAA,GAEIC,QAZO,WAYG,wJACd,EAAKC,WACLC,OAAOC,iBAAiB,SAAU,EAAKC,cAFzB,8CAIhBC,cAhBa,WAiBXH,OAAOI,oBAAoB,SAAUC,KAAKH,eAE5CI,QAAS,CACPJ,aADO,WAEL,MAAoCK,SAASC,gBAArCC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,aACnB,EAAwBV,OAAhBW,EAAR,EAAQA,YACFC,EAAiBC,KAAKC,MAAML,GAAaE,IAAgBD,EAC3DE,GACFP,KAAKN,YAGHA,SATC,WASU,oKACX,EAAKJ,WADM,oDAKf,EAAKA,YAAa,GAGd,EAAKf,MAAMmC,OARA,iCASS,OACnBC,IAAI,EAAKpC,MAAM,EAAKA,MAAMmC,OAAS,GAAGhC,OACtCkC,MAXU,cASPC,EATO,gBAYK,OACfC,QAAQ,iBACRC,WAAWF,GACXG,MAAM,EAAK3B,YACXuB,MAhBU,OAYbK,EAZa,gDAkBK,OACfH,QAAQ,iBACRE,MAAM,EAAK3B,YACXuB,MArBU,QAkBbK,EAlBa,eAwBfA,EAAUC,SAAQ,SAACP,GACjB,EAAKpC,MAAM4C,KAAX,gBACEzC,MAAOiC,EAAIrC,IACRqC,EAAIvB,YAIX,EAAKE,YAAa,EA/BH,iDGpErB,EAAOH,OAASA,EAED","file":"js/chunk-2d21a3d2.32836d72.js","sourcesContent":["<template>\r\n  <main>\r\n    <!-- Introduction -->\r\n    <section class=\"mb-8 py-20 text-white text-center relative\">\r\n      <div class=\"absolute inset-0 w-full h-full bg-contain introduction-bg\"\r\n        style=\"background-image: url(assets/img/header.png)\"></div>\r\n      <div class=\"container mx-auto\">\r\n        <div class=\"text-white main-header-content\">\r\n          <h1 class=\"font-bold text-6xl mb-5\">Listen to Great Music!</h1>\r\n          <p class=\"w-full text-lg md:w-8/12 mx-auto\">\r\n            \"Music is a moral law. It gives soul to the universe, wings to the mind, flight\r\n             to the imagination, and charm and gaiety to life and to everything.\"\r\n             - Plato\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <img class=\"relative block mx-auto mt-5 -mb-20 w-auto max-w-full\"\r\n        src=\"assets/img/introduction-music.png\" />\r\n    </section>\r\n\r\n    <!-- Main Content -->\r\n    <section class=\"container mx-auto\">\r\n      <div class=\"bg-white rounded border border-gray-200 relative flex flex-col\">\r\n        <div class=\"px-6 pt-6 pb-5 font-bold border-b border-gray-200\"\r\n        v-icon=\"'headphones-alt'\">\r\n          <span class=\"card-title\">Songs</span>\r\n          <!-- Icon -->\r\n        </div>\r\n        <!-- Playlist -->\r\n        <ol id=\"playlist\">\r\n          <appsongitem v-for=\"song in songs\" :key=\"song.DocID\" :song=\"song\" />\r\n        </ol>\r\n        <!-- .. end Playlist -->\r\n      </div>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { songscollection } from '@/includes/firebase';\r\nimport appsongitem from '@/components/songitem.vue';\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data() {\r\n    return {\r\n      songs: [],\r\n      maxperpage: 5,\r\n      pendingreq: false,\r\n    };\r\n  },\r\n  components: {\r\n    appsongitem,\r\n  },\r\n  async created() {\r\n    this.getsongs();\r\n    window.addEventListener('scroll', this.handlescroll);\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('scroll', this.handlescroll);\r\n  },\r\n  methods: {\r\n    handlescroll() {\r\n      const { scrollTop, offsetHeight } = document.documentElement;\r\n      const { innerHeight } = window;\r\n      const bottomofWindow = Math.round(scrollTop) + innerHeight === offsetHeight;\r\n      if (bottomofWindow) {\r\n        this.getsongs();\r\n      }\r\n    },\r\n    async getsongs() {\r\n      if (this.pendingreq) {\r\n        return;\r\n      }\r\n\r\n      this.pendingreq = true;\r\n\r\n      let snapshots;\r\n      if (this.songs.length) {\r\n        const lastdoc = await songscollection\r\n          .doc(this.songs[this.songs.length - 1].DocID)\r\n          .get();\r\n        snapshots = await songscollection\r\n          .orderBy('modified_name')\r\n          .startAfter(lastdoc)\r\n          .limit(this.maxperpage)\r\n          .get();\r\n      } else {\r\n        snapshots = await songscollection\r\n          .orderBy('modified_name')\r\n          .limit(this.maxperpage)\r\n          .get();\r\n      }\r\n\r\n      snapshots.forEach((doc) => {\r\n        this.songs.push({\r\n          DocID: doc.id,\r\n          ...doc.data(),\r\n        });\r\n      });\r\n\r\n      this.pendingreq = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n    <li class=\"flex justify-between items-center p-3 pl-6 cursor-pointer transition\r\n          duration-300 hover:bg-gray-100\" >\r\n        <div>\r\n          <router-link :to=\"{name: 'song', params: { id: song.DocID }}\"\r\n           class=\"font-bold block text-gray-600\">\r\n              {{ song.modified_name }}\r\n          </router-link>\r\n          <span class=\"text-gray-500 text-sm\">\r\n              {{ song.display_name }}</span>\r\n        </div>\r\n\r\n        <div class=\"text-gray-600 text-lg\">\r\n          <router-link custom\r\n          :to=\"{name: 'song', params: { id: song.DocID }, hash: '#comments' }\"\r\n          v-slot=\"{ navigate }\">\r\n            <span class=\"comments\" @click=\"navigate\">\r\n              <i class=\"fa fa-comments text-gray-600\"></i>\r\n              {{ song.comment_count }}\r\n            </span>\r\n          </router-link>\r\n        </div>\r\n    </li>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'songitem',\r\n  props: ['song'],\r\n};\r\n</script>\r\n","import { render } from \"./songitem.vue?vue&type=template&id=33b976d8\"\nimport script from \"./songitem.vue?vue&type=script&lang=js\"\nexport * from \"./songitem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Home.vue?vue&type=template&id=640d3d0a\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}